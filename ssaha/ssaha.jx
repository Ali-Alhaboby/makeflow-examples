{"rules": [
	{
		"command": format(
			"%s %s %d",
			SPLIT,
			QUERY,
			SPLITS,
		),
		"inputs": [SPLIT, QUERY],
		"outputs": [
			format("%s.%d", QUERY, x) for x in range(SPLIT_SIZE),	
		],
		"local_job": true,
	},
	{
		"command": format(
			"%s %s %s %s.%d > output.fastq.%d",
			SSAHA,
			OPTIONS,
			DB,
			QUERY,
			x,
			x,
		),
		"inputs": [
			SSAHA,
			DB,
			format("%s.%d", QUERY, x),
		],
		"outputs": [
			format("output.fastq.%d", x),
		],
	} for x in range(SPLIT_SIZE),	
	{
		"command": format(
			"cat %s > output.fastq",
			join([format("output.fastq.%d", x) for x in range(SPLIT_SIZE)]),
		),
		"inputs": [
			format("output.fastq.%d", x) for x in range(SPLIT_SIZE),
		],
		"outputs": [
			"output.fastq",
		],
		"local_job": true,
	},
],
}
